Type: AWS::EC2::SecurityGroup
Properties:
  GroupDescription: "Kafka Security Group"
  GroupName: ${self:provider.stage}-apache-kafka-security-group-node
  VpcId: { 'Ref': 'ApacheKafkaVPC' }
  SecurityGroupEgress: 
    - IpProtocol: -1
      FromPort: 0
      ToPort: 65535
      CidrIp: 0.0.0.0/0
  SecurityGroupIngress:
    - IpProtocol: tcp
      FromPort: 22
      ToPort: 22
      SourceSecurityGroupId: { "Ref": "BastionSecurityGroup" }